{# ☞ DROP THIS FILE INTO ui/templates/index.html #}
{% set AGENTS = ['DemoAgent','SupportAgent','SwiftAgent','GitAgent'] %}                 {# 1‑line Jinja #}
<!DOCTYPE html><html lang="en"><head>
<meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1">
<title>ForgeFleet - AI Agent Dashboard</title>

<script src="https://cdn.tailwindcss.com"></script>
<link  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">

<script>
 tailwind.config={theme:{extend:{colors:{primary:{50:'#f0f9ff',100:'#e0f2fe',200:'#bae6fd',300:'#7dd3fc',400:'#38bdf8',500:'#0ea5e9',600:'#0284c7',700:'#0369a1',800:'#075985',900:'#0c4a6e'},dark:{900:'#0f172a',800:'#1e293b',700:'#334155',600:'#475569'},accent:{400:'#818cf8',500:'#6366f1',600:'#4f46e5'}},fontFamily:{sans:['Inter','ui-sans-serif','system-ui'],mono:['Roboto Mono','monospace']}}}}
</script>
<style>
 @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Roboto+Mono:wght@300;400;500&display=swap');
 :root{--scrollbar-thumb:#334155;--scrollbar-track:#0f172a}
 *::-webkit-scrollbar{width:8px;height:8px}
 *::-webkit-scrollbar-track{background:var(--scrollbar-track)}
 *::-webkit-scrollbar-thumb{background:var(--scrollbar-thumb);border-radius:4px}
 .terminal-bg{background-color:rgba(15,23,42,.9);
  background-image:linear-gradient(rgba(56,189,248,.1) 1px,transparent 1px),
                   linear-gradient(90deg,rgba(56,189,248,.1) 1px,transparent 1px);
  background-size:20px 20px}
 .agent-card{transition:.3s;border-left:2px solid transparent}
 .agent-card:hover{transform:translateY(-2px);border-left-color:#6366f1}
 .agent-card.active{border-left-color:#6366f1;background-color:rgba(99,102,241,.05)}
</style>
</head><body class="bg-dark-900 text-gray-100 font-sans min-h-screen">

<!-- ——— Header ——— -->
<header class="bg-dark-800 border-b border-dark-700 p-4">
  <div class="container mx-auto flex justify-between items-center">
    <div class="flex items-center space-x-3">
      <div class="w-8 h-8 rounded-full bg-gradient-to-br from-accent-500 to-primary-500 flex items-center justify-center">
        <i class="fas fa-robot text-white"></i></div>
      <h1 class="text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-primary-400 to-accent-500">ForgeFleet</h1>
    </div>
    <div class="flex items-center space-x-4">
      <button class="p-2 rounded-full hover:bg-dark-700"><i class="fas fa-cog text-primary-400"></i></button>
      <div class="w-8 h-8 rounded-full bg-dark-700 flex items-center justify-center border border-primary-500">
        <i class="fas fa-user text-primary-400"></i></div>
    </div>
  </div>
</header>

<!-- ——— Main ——— -->
<main class="flex-1 container mx-auto p-4">
<div class="dashboard-grid grid grid-cols-1 lg:grid-cols-3 gap-6">

  <!-- Agents column (cards injected by JS) -->
  <div class="bg-dark-800 rounded-xl border border-dark-700 p-4 lg:col-span-1">
    <div class="flex justify-between items-center mb-4">
      <h2 class="text-lg font-semibold text-primary-300 flex items-center">
        <i class="fas fa-robot mr-2"></i> Active Agents</h2>
      <button class="px-3 py-1 bg-primary-600 hover:bg-primary-500 rounded-md text-sm flex items-center">
        <i class="fas fa-plus mr-1"></i> Add</button>
    </div>
    <div id="agentList" class="space-y-3 max-h-[calc(100vh-250px)] overflow-y-auto pr-2"></div>
  </div>

  <!-- Control / logs -->
  <div class="bg-dark-800 rounded-xl border border-dark-700 p-4 lg:col-span-2">
    <!-- Task box -->
    <div class="flex justify-between items-center mb-4">
      <h2 class="text-lg font-semibold text-primary-300 flex items-center">
        <i class="fas fa-terminal mr-2"></i> Agent Control</h2>
      <div class="flex space-x-2">
        <button class="px-3 py-1 bg-green-600 hover:bg-green-500 rounded-md text-sm"><i class="fas fa-play mr-1"></i>Start</button>
        <button class="px-3 py-1 bg-red-600 hover:bg-red-500 rounded-md text-sm"><i class="fas fa-stop mr-1"></i>Stop</button>
      </div>
    </div>
    <div class="mb-6">
      <label class="block text-sm font-medium text-gray-300 mb-2">Assign Task</label>
      <div class="flex space-x-2 agent-controls">
        <input id="taskBox" placeholder="Describe the task for this agent…" class="flex-1 bg-dark-700 border border-dark-600 rounded-lg px-4 py-2">
        <button id="taskSend" class="px-4 py-2 bg-accent-600 hover:bg-accent-500 rounded-lg text-sm flex items-center">
          <i class="fas fa-paper-plane mr-2"></i>Send</button>
      </div>
    </div>
    <!-- Live log -->
    <div>
      <h3 class="text-sm mb-2 text-gray-300 flex items-center"><i class="fas fa-scroll mr-2"></i>Agent Log</h3>
      <pre id="live" class="terminal-bg rounded-lg p-3 font-mono text-sm overflow-y-auto max-h-64"></pre>
    </div>
  </div>

  <!-- Suggestions -->
  <div class="bg-dark-800 rounded-xl border border-dark-700 p-4 lg:col-span-3 mt-6">
    <div class="flex justify-between items-center mb-4">
      <h2 class="text-lg font-semibold text-primary-300 flex items-center"><i class="fas fa-clock mr-2"></i>Pending Suggestions</h2>
      <button onclick="loadSuggestions()" class="px-3 py-1 bg-dark-700 hover:bg-dark-600 rounded-md text-sm flex items-center">
        <i class="fas fa-sync-alt mr-1"></i>Refresh</button>
    </div>
    <div id="sugGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"></div>
  </div>

</div></main>

<footer class="bg-dark-800 border-t border-dark-700 text-center text-xs text-gray-500 p-3">
  ForgeFleet v1.0.0 | <span id="datetime" class="font-mono"></span>
</footer>

<!-- expose agent list & csrf‑free accept‑reject URLs to JS -->
<script>window.AGENTS={{ AGENTS|tojson }};</script>
<script src="/static/dashboard.js"></script>
</body></html>
